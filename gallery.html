<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงููุนุฑุถ - ูุนุฑุถ ุงูุฑุณููุงุช</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <h1>๐จ ูุนุฑุถ ุงูุฑุณูุงุช</h1>
        <div class="subtitle">ุดุงูุฏู ุฅุจุฏุงุนุงุช ุงูุฑุณููุงุช ุงูุดุฎุตูุฉ</div>
    </header>

    <div class="container">
        <div class="nav-container">
            <div class="navigation">
                <a href="index.html" class="nav-btn">ุงูุฑุฆูุณูุฉ</a>
                <a href="register.html" class="nav-btn">ุฅูุดุงุก ุญุณุงุจ</a>
                <a href="gallery.html" class="nav-btn active">ุงููุนุฑุถ</a>
                <a href="admin.html" class="nav-btn">ุฏุฎูู ุงูุฅุฏุงุฑุฉ</a>
            </div>
        </div>

        <div class="card">
            <h2 style="text-align: center; color: var(--primary); margin-bottom: 2rem;">๐จ ูุนุฑุถ ุงูุฑุณูุงุช</h2>
            <p style="text-align: center; color: #666; margin-bottom: 2rem; font-size: 1.1rem;">
                ูุฐุง ุงููุนุฑุถ ูุถู ูู ุงูุฑุณูุงุช ุงูุดุฎุตูุฉ ุงููู ุทูุจุชูุง ุงูุตุฏููุงุช. ูู ุฑุณูุฉ ุจุชููู ูุจููุฉ ุนูู ุงููุนูููุงุช ุงูุดุฎุตูุฉ ููู ูุญุฏุฉ!
            </p>
            
            <div class="search-box">
                <form id="searchForm">
                    <input type="text" id="searchInput" placeholder="ุงุจุญุซู ุจุงุณู ุงูุตุฏููุฉ...">
                    <button type="submit" class="btn">ุจุญุซ</button>
                </form>
            </div>

            <div class="gallery" id="galleryContainer">
                <!-- ุงููุญุชูู ูุธูุฑ ุจุงูุฌุงูุงุณูุฑูุจุช -->
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        function renderGallery(students = null) {
            const galleryContainer = document.getElementById('galleryContainer');
            const studentsToShow = students || galleryApp.students.filter(s => s.wants_drawing);
            
            if (studentsToShow.length === 0) {
                galleryContainer.innerHTML = `
                    <div class="no-data" style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--accent); background: white; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">๐</div>
                        <h3 style="color: var(--primary); margin-bottom: 1rem;">ูุง ูู ุฑุณููุงุช ูุนุฑุถูุง ุงูุญูู</h3>
                        <p style="color: #666; margin-bottom: 2rem;">ูููููู ุชูููู ุฃูู ูุญุฏุฉ ุชุทูุจูู ุฑุณูุฉ!</p>
                        <a href="register.html" class="btn">ุงุทูุจู ุฑุณูุฉ!</a>
                    </div>
                `;
                return;
            }

            galleryContainer.innerHTML = studentsToShow.map(student => `
                <div class="art-card ${student.drawing_completed ? 'completed-drawing' : ''}">
                    <div class="no-image">๐ผ๏ธ ุตูุฑุฉ ${student.name}</div>
                    
                    <div class="art-card-content">
                        <h3>${student.name}</h3>
                        
                        <div class="drawing-status ${student.drawing_completed ? 'status-completed' : 'status-pending'}">
                            ${student.drawing_completed ? 'โ ุงูุฑุณูุฉ ููุชููุฉ' : '๐ก ุฌุงุฑู ุงูุนูู ุนูู ุงูุฑุณูุฉ'}
                        </div>
                        
                        ${student.info_completed ? `
                            <div class="art-details">
                                <p><strong>ููู ุงูุดุนุฑ:</strong> ${student.hair_color}</p>
                                <p><strong>ููู ุงูุนููู:</strong> ${student.eye_color}</p>
                                <p><strong>ุงูููู ุงูููุถู:</strong> 
                                    <span class="color-box" style="background-color: ${student.favorite_color}"></span>
                                </p>
                            </div>
                        ` : ''}
                        
                        ${student.drawing_completed && student.drawing_path ? `
                            <div style="margin-top: 1.5rem;">
                                <a href="${student.drawing_path}" target="_blank" class="btn" style="width: 100%;">๐ ุดููู ุงูุฑุณูุฉ ุงูููุงุฆูุฉ</a>
                            </div>
                        ` : `
                            <div class="artwork-placeholder">
                                ${student.drawing_completed ? 'ุงูุฑุณูุฉ ุฌุงูุฒุฉ! ๐' : 'ุฌุงุฑู ุฅูุดุงุก ุงูุฑุณูุฉ... โณ'}
                            </div>
                        `}
                    </div>
                </div>
            `).join('');
        }

        // ุงูุจุญุซ
        document.getElementById('searchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const searchTerm = document.getElementById('searchInput').value;
            
            if (searchTerm.trim()) {
                const filteredStudents = galleryApp.searchStudents(searchTerm);
                renderGallery(filteredStudents);
            } else {
                renderGallery();
            }
        });

        // ุชุญููู ุงููุนุฑุถ ุนูุฏ ูุชุญ ุงูุตูุญุฉ
        window.addEventListener('load', function() {
            renderGallery();
        });
    </script>
</body>
</html>